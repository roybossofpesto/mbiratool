<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="semantic.min.css">
    <script src="jquery.min.js" charset="utf-8"></script>
    <script src="semantic.min.js" charset="utf-8"></script>
    <title>Clean <Ui></Ui>
    </title>
    <script type="text/javascript">
        "use strict";

        $().ready(() => {

            $('.note').each(function(index) {
                // const foo =
                //     '<p id="lol"><div class="ui icon top left pointing gap dropdown mini button"> <div class="default text">1st</div> <div class="menu"> <div class="item" data-value="0">1st</div> <div class="item" data-value="2">3rd</div> <div class="item" data-value="4">5th</div> </div> </div> </p> ';
                //
                // const elem = $($.parseHTML(foo));
                const octave_buttons = $.parseHTML(
                    '<div class="ui compact icon vertical octave buttons"> <button class="ui button" data-value="1"> + </button> <button class="ui button active" data-value="0"> 0 </button> <button class="ui button" data-value="-1"> - </button></div>'
                );
                const elem = $.parseHTML('<p><i class="ui warning icon"></i> <span id="coucou">aa</span></p>');
                // elem.children(0).append(aa);
                $(elem).find('#coucou').text(`${index}`);
                $(elem).append(octave_buttons);

                console.log('fofofo', index, elem);

                let octave = 0;


                const update_all = function() {
                    // const elem = elem_t.clone();
                    console.log('newState', octave);
                }

                // const octave_buttons = elem.find('.ui.octave.buttons').find('button');
                console.log('boo', $(octave_buttons).find('button').length);
                $(octave_buttons).find('button').click(function() {
                    const current = $(this);
                    const vv = parseFloat(current.attr('data-value'));
                    octave = vv;
                    // console.log('octave', octave, $(octave_buttons).length)
                    $(octave_buttons).find('button').removeClass('active');
                    current.addClass('active');
                    // update_all();
                });

                $(this).append(elem);


                // return;
                // // const elem = elem_t.clone();
                // console.log('clone elem', elem.children().get(), elem.find('#lol').length)
                //
                // let delta = 0;
                //
                //
                //
                //
                // elem.find('.ui.gap.dropdown').dropdown({
                //     onChange: function() {
                //         delta = parseInt($(this).dropdown('get value'));
                //         update_all();
                //     },
                // });

            });

        });
    </script>
</head>

<body>

    <div class="ui text container">
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quae suscipit, accusamus nulla maxime unde placeat assumenda doloremque cum culpa, blanditiis officia qui, incidunt rem, dicta sunt facilis! In numquam obcaecati dolorem. Dolore
            molestias hic dignissimos, harum placeat ullam. Error recusandae, explicabo cupiditate suscipit quod exercitationem ullam consectetur molestias a magnam.</p>
    </div>

    <div class="ui text container">
        <div class="ui twelve column center aligned grid">
            <div class="column">
                <div class="note"></div>
            </div>
            <div class="column">
                <div class="note"></div>
            </div>
            <div class="column">
                <div class="note"></div>
            </div>
            <!-- <div class="column">
                <div class="note"></div>
            </div>
            <div class="column">
                <div class="note"></div>
            </div>
            <div class="column">
                <div class="note"></div>
            </div>
            <div class="column">
                <div class="note"></div>
            </div>
            <div class="column">
                <div class="note"></div>
            </div>
            <div class="column">
                <div class="note"></div>
            </div>
            <div class="column">
                <div class="note"></div>
            </div>
            <div class="column">
                <div class="note"></div>
            </div>
            <div class="column">
                <div class="note"></div>
            </div>
            <div class="column">
                <div class="note"></div>
            </div>
            <div class="column">
                <div class="note"></div>
            </div>
            <div class="column">
                <div class="note"></div>
            </div>
            <div class="column">
                <div class="note"></div>
            </div>
            <div class="column">
                <div class="note"></div>
            </div>
            <div class="column">
                <div class="note"></div>
            </div>
            <div class="column">
                <div class="note"></div>
            </div>
            <div class="column">
                <div class="note"></div>
            </div>
            <div class="column">
                <div class="note"></div>
            </div>
            <div class="column">
                <div class="note"></div>
            </div>
            <div class="column">
                <div class="note"></div>
            </div>
            <div class="column">
                <div class="note"></div>
            </div>
            <div class="column">
                <div class="note"></div>
            </div>
            <div class="column">
                <div class="note"></div>
            </div>
            <div class="column">
                <div class="note"></div>
            </div>
            <div class="column">
                <div class="note"></div>
            </div>
            <div class="column">
                <div class="note"></div>
            </div>
            <div class="column">
                <div class="note"></div>
            </div>
            <div class="column">
                <div class="note"></div>
            </div>
            <div class="column">
                <div class="note"></div>
            </div>
            <div class="column">
                <div class="note"></div>
            </div>
            <div class="column">
                <div class="note"></div>
            </div>
            <div class="column">
                <div class="note"></div>
            </div>
            <div class="column">
                <div class="note"></div>
            </div>
            <div class="column">
                <div class="note"></div>
            </div>
            <div class="column">
                <div class="note"></div>
            </div>
            <div class="column">
                <div class="note"></div>
            </div>
            <div class="column">
                <div class="note"></div>
            </div>
            <div class="column">
                <div class="note"></div>
            </div>
            <div class="column">
                <div class="note"></div>
            </div>
            <div class="column">
                <div class="note"></div>
            </div>
            <div class="column">
                <div class="note"></div>
            </div>
            <div class="column">
                <div class="note"></div>
            </div>
            <div class="column">
                <div class="note"></div>
            </div>
            <div class="column">
                <div class="note"></div>
            </div>
            <div class="column">
                <div class="note"></div>
            </div> -->

        </div>
    </div>
</body>

</html>
